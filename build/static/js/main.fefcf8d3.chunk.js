(this.webpackJsonpeatwow=this.webpackJsonpeatwow||[]).push([[0],{205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(9),r=n.n(s),i=n(48),l=n(49),o=n(54),u=n(52),j=n(11),d=n(28),f=n(29),b=n.n(f),h=n(15),p=function(e){return{type:"ALLTAGS",data:e}},O=n(10),g=j.h.Item,m=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={visible:!0,selected:""},e.onSelect=function(t){d.Axios.post("http://116.62.128.248:5053/signin",b.a.stringify({username:"mlf",userid:"916"})).then((function(e){return e.data})).then((function(t){e.props.allTags(t)})),console.log(t.props.value),e.setState({visible:!1,selected:t.props.value})},e.handleVisibleChange=function(t){e.setState({visible:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsx)(j.g,{mode:"light",rightContent:Object(O.jsx)(j.h,{overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[Object(O.jsx)(g,{value:"scan",icon:(e="tOtXhkIWzwotgGSeptou",Object(O.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})),"data-seed":"logId",children:"\u767b\u5f55"},"4"),,],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect,children:Object(O.jsx)("div",{style:{height:"100%",padding:"0 15px",marginRight:"-15px",display:"flex",alignItems:"center"},children:Object(O.jsx)(j.b,{type:"ellipsis"})})}),children:"\u5403\u4ec0\u4e48\u554a"})});var e}}]),n}(a.a.Component),v=Object(h.b)((function(e){return e}),{allTags:p})(m),x=n(53),y=n(25),C=(n(205),Object(h.b)((function(e){return e}),{tags:function(e){return{type:"TAGS",data:e}}})((function(e){var t=Object(c.useState)([]),n=Object(y.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(["1","2"]),i=Object(y.a)(r,2),l=i[0],o=i[1];return Object(c.useEffect)((function(){o(e.allTags)}),[e.allTags]),Object(c.useEffect)((function(){e.tags(a)}),[a]),Object(O.jsx)("div",{className:"scriptsArea",children:Object(O.jsx)("div",{className:"tag-container selectedBox",children:l.map((function(e){return Object(O.jsx)(j.i,{onChange:(t=e,function(e){s(e?[].concat(Object(x.a)(a),[t]):a.filter((function(e){return e!==t})))}),children:e},e);var t}))})})}))),A=(n(206),Object(h.b)((function(e){return e}))((function(e){return Object(O.jsxs)("div",{className:"picArea",children:[Object(O.jsx)("div",{className:"pic",children:Object(O.jsx)("img",{src:e.randomMeal.picUrl})}),Object(O.jsxs)("div",{className:"defaultText",children:["\u4eca\u5929\u5403",e.randomMeal.mealName?e.randomMeal.mealName:"\u5565\uff1f"]})]})}))),S=(n(207),Object(h.b)((function(e){return e}),{meal:function(e){return{type:"MEAL",data:e}}})((function(e){var t=Object(c.useState)([]),n=Object(y.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){s(e.tags)})),Object(O.jsx)("div",{children:Object(O.jsx)(j.a,{className:"btn",type:"primary",size:"large",onClick:function(){var t={username:"mlf",userid:"916",tags:a};console.log("\u53d1\u9001",t),d.Axios.post("http://116.62.128.248:5053/randommeal",b.a.stringify(t)).then((function(t){console.log("\u6536\u5230",t.data),e.meal(t.data)}))},children:"\u5f00\u59cb"})})}))),w=(n(208),n(209),[]),N=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={files:w},e.onChange=function(t,n,c){e.props.getUrl(t[0].url),e.setState({files:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.files;return Object(O.jsx)(j.c,{className:"imgpick",length:"1",files:e,onChange:this.onChange,selectable:e.length<1,onAddImageClick:this.onAddImageClick,disableDelete:!0})}}]),n}(a.a.Component),T=Object(h.b)((function(e){return e}),{allTags:p})((function(e){var t=Object(c.useState)(!1),n=Object(y.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),i=Object(y.a)(r,2),l=i[0],o=i[1],u=Object(c.useRef)(null),f=Object(c.useRef)(null),h=Object(c.useRef)(null),p=function(){var t=u.current.state.value;if(t){var n=f.current.state.value.split(" "),c=h.current.state.value,a={username:"mlf",userid:"916",mealName:t,picUrl:l,tags:n,description:c};d.Axios.post("http://116.62.128.248:5053/addmeal",b.a.stringify(a)).then((function(e){return j.j.success("\u597d\u8036\uff0c\u4e0a\u4f20\u6210\u529f",1),e.data})).then((function(t){console.log(t),e.allTags(t)})),j.j.loading("\u5ba2\u89c2\uff0c\u7a0d\u7b49\u7247\u523b\uff01",1,(function(){console.log("Load complete !!!"),s(!1)}))}else j.f.alert("\u672a\u586b\u5199\u540d\u79f0","\u5ba2\u5b98\uff0c\u7ec8\u6b62\u4e0a\u4f20\u5417\uff1f",[{text:"\u5b8c\u5584\u4e00\u4e0b",onPress:function(){return console.log("cancel")}},{text:"\u6e9c\u4e86\u6e9c\u4e86",onPress:function(){j.j.info("\u53d6\u6d88\u4e0a\u4f20\u54af",1),s(!1)}}])};return Object(O.jsxs)("div",{children:[Object(O.jsx)(j.a,{className:"btn",type:"primary",size:"large",onClick:function(e){e.preventDefault(),s(!0)},children:"\u6dfb\u52a0"}),Object(O.jsx)(j.f,{popup:!0,visible:a,onClose:p,animationType:"slide-up",afterClose:function(){},children:Object(O.jsxs)(j.e,{renderHeader:function(){return Object(O.jsx)("div",{children:"\u6dfb\u52a0\u83dc\u54c1"})},className:"popup-list ",children:[Object(O.jsx)(j.e.Item,{children:Object(O.jsx)(N,{getUrl:function(e){o(e)}})}),Object(O.jsx)(j.d,{ref:u,autofocus:!0,clear:!0,placeholder:"auto focus",children:"\u540d\u79f0"}),Object(O.jsx)(j.d,{ref:f,autofocus:!0,clear:!0,placeholder:"\u7a7a\u683c\u7b26\u5206\u9694\u6807\u7b7e\uff0c\u53ef\u4e0d\u586b",children:"\u6807\u7b7e"}),Object(O.jsx)(j.d,{ref:h,autofocus:!0,clear:!0,placeholder:"\u53ef\u4e0d\u586b",children:"\u63cf\u8ff0"}),Object(O.jsx)(j.e.Item,{children:Object(O.jsx)(j.a,{type:"primary",onClick:p,children:"\u4e0a\u4f20"})})]})})]})}));var k=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(v,{}),Object(O.jsx)(C,{}),Object(O.jsx)(A,{}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)(S,{}),Object(O.jsx)(T,{})]})]})},I=n(24),M=n(108),L=n(109),E=n(55);var G=Object(I.combineReducers)({randomMeal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MEAL":return Object(E.a)({},t.data);default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TAGS":return Object(E.a)({},t.data);default:return e}},allTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALLTAGS":return Object(x.a)(t.data);default:return e}}}),R=Object(I.createStore)(G,Object(L.composeWithDevTools)(Object(I.applyMiddleware)(M.a)));n(210);r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(h.a,{store:R,children:Object(O.jsx)(k,{})})}),document.getElementById("root"))},28:function(e,t,n){var c=n(182);t.Axios=c.create({headers:{"content-type":"application/x-www-form-urlencoded"}})}},[[211,1,2]]]);
//# sourceMappingURL=main.fefcf8d3.chunk.js.map